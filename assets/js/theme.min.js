function useWidgetLoop(b, c, d) {
    var e = $("" + b);
    $("" + c).click(function () {
        var a = e.children("" + d);
        a.each(function () {
            switch (+$(this).css("z-index")) {
                case 100:
                    $(this).css("z-index", 70);
                    break;
                case 90:
                    $(this).css("z-index", 100);
                    break;
                case 80:
                    $(this).css("z-index", 90);
                    break;
                case 70:
                    $(this).css("z-index", 80);
                    break;
                default:
                    console.log("出错呢！");
                    break
            }
        })
    })
}

$(function () {
    var a = $(".nav li").find("a.active").parent().index();
    if (a < 0) {
        $(".left-nav").find(".ninja").css({
            top: 0 + "px"
        })
    } else {
        $(".left-nav").find(".ninja").css({
            top: (a - 1) * 50 + "px"
        })
    }
    useWidgetLoop(".loop", ".change-card", ".widget");
    $(".minilize-fold").click(function () {
        if (!$("body").hasClass("show-sider")) {
            $("body").addClass("show-sider")
        } else {
            $("body").removeClass("show-sider")
        }
    });
    $("#app").click(function () {
        if ($("body").hasClass("show-sider")) {
            $("body").removeClass("show-sider")
        }
    });
    $(window).resize(function () {
        if ($(this).width() > 768) {
            $("body").removeClass("show-sider")
        }
    })
});
$(".nav li").click(function () {
    $(".left-nav .nav").each(function () {
        $("a", this).removeClass("active")
    });
    $("a", this).addClass("active").parents("ul").children(".ninja").css({
        top: ($(this).index() - 1) * 50 + "px"
    })
});

let observerConsole = {
    openCallback: function () {
        console.log('open');
        try {
            window.open("about:blank", "_self")
        } catch (e) {
            let btn = document.createElement("button");
            btn.onclick = function () {
                window.open("about:blank", "_self")
            };
            btn.click()
        }
    },
    observer: function () {
        let dom = document.createElement("div"), that = this;
        Object.defineProperty(dom, "id", {
            get: function () {
                that.openCallback()
            }
        });
        console.log(dom);
    },
    observerF: function () {
        let obj = Object.create(null), t = Date.now(), that = this;
        Object.defineProperty(obj, "a", {
            get: function () {
                if (Date.now() - t > 100) {
                    that.openCallback()
                }
            }
        });
        setInterval(function () {
            t = Date.now();
            (function () {
            })["constructor"]("debugger")();
            console.log(obj.a);
        }, 200)
    },
    init: function () {
        let t = window.navigator.userAgent.toLowerCase();
        t.indexOf("firefox") >= 0 ? this.observerF() : this.observer();
    }
};

